<nz-divider [nzText]="'表单嵌套'"></nz-divider>

<form [formGroup]="validateForm">
  <nz-form-item>
    <nz-form-label nzSpan="3" nz-col> 尺寸 </nz-form-label>
    <nz-form-control nzSpan="7" nz-col>
      <input
        nz-input
        type="text"
        placeholder="请输入集装箱尺寸"
        formControlName="ctn_size"
      />
    </nz-form-control>

    <nz-form-label nzSpan="3" nzOffset="1" nz-col> 箱型 </nz-form-label>
    <nz-form-control nzSpan="7" nz-col>
      <input
        nz-input
        type="text"
        placeholder="请输入集装箱箱型"
        formControlName="ctn_size"
      />
    </nz-form-control>
    <nz-form-label nzSpan="3" nzOffset="1" nz-col> 箱型 </nz-form-label>
    <nz-form-control nzSpan="7" nz-col>
      <input
        nz-input
        type="text"
        placeholder="请输入计划号"
        formControlName="plan_id"
      />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>
    <nz-form-label nzSpan="3" nz-col> 添加箱号 </nz-form-label>
    <nz-form-control nzSpan="18">
      <div
        class="Container"
        formArrayName="Container"
        *ngFor="let content of validateForm.controls['Container'].controls;
                  let cotainerIndex = index"
      >
        <nz-row>
          <nz-form-label nzSpan="3" nz-col>
            stage{{containerIndex + 1}}
          </nz-form-label>
        </nz-row>
        <nz-row>
          <nz-form-label nzSpan="3" nz-col>箱号</nz-form-label>
          <nz-form-control
            nz-col
            nzSpan="7"
            [formGroupName]="containerIndex.toString()"
          >
            <input nz-input type="text" formControlName="container_id" />
          </nz-form-control>
          <nz-form-label nzOffset="1" nzSpan="3" nz-col
            >箱系统号
          </nz-form-label>
          <nz-form-control
            nz-col
            nzSpan="7"
            [formGroupName]="containerIndex.toString()"
          >
            <input nz-input type="text" formControlName="container_no" />
          </nz-form-control>

          <nz-form-label nzSpan="3" nz-col>净重</nz-form-label>
          <nz-form-control
            nz-col
            nzSpan="18"
            [formGroupName]="containerIndex.toString()"
          >
            <input nz-input formControlName="ctn_net_weight" />
          </nz-form-control>
        </nz-row>
      </div>
    </nz-form-control>
  </nz-form-item>
</form>

<nz-form-item>
  <nz-form-label nzSpan="3" nz-col> 表单的值 </nz-form-label>
  <nz-form-control nzSpan="21" nz-col>
    {{validateForm.value | json}}
  </nz-form-control>
</nz-form-item>
